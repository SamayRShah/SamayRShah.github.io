---
title: 'Homework 8: Digital Hourglass'
date: '2025-09-28'
---

![Homework 9 project](/assets/HW8/HW8.jpg)

This project went by pretty quickly, it was the same follow along with the book as usual, though, it was interesting to work with the new tilt switch sensor.

## The Circuit
![Circuit](/assets/HW8/digital_hourglass.png)

### Parts List

|Name                  |Quantity|Component     |
|----------------------|--------|--------------|
|U1                    |1       |Arduino Uno R3|
|R1                    |1       |10 kΩ Resistor|
|TILT1                 |1       |Tilt Sensor   |
|R2, R3, R4, R5, R6, R7|6       |220 Ω Resistor|
|D1, D2, D3, D4, D5, D6|6       |Red LED       |

[Parts List CSV](/assets/HW8/digital_hourglass_parts_list.csv)

### Schematics
![Schematics](/assets/HW8/digital_hourglass_shematics.png)
[Schematics pdf](/assets/HW8/digital_hourglass_shematics.pdf)

## Building the Circuit

Assembling the circuit was simple since there very few components and wires, however, one issue I did run into was when the video suggested to trim the battery snap insulation, which I did need to do, however, I did end up slightly mangling my cables

![Mangled cables](/assets/HW8/battery_cables.jpg)

Luckily, I was able to still plug them in and uploading the sketch still resulted in a working project as demonstrated below ( wait time set to 500ms per light using example sketch)

![Digital Hourglass](/assets/HW8/HW8.gif)

## Programming

After confirming that the circuit was working, I began writing the code for the project, which was straight and understandable, though one unexpected thing I learnt was that the Arduino can store how long it's been running in just raw numbers, around 50 days, which is a lot more than I thought it could do for some reason.

```c++
// named constant for the switch pin
const int switchPin = 8;

unsigned long previousTime = 0;
int switchState = 0;
int prevSwitchState = 0;
int led = 2;

long interval = 500;  

void setup() {
  // set the LED pins as outputs
  for (int x = 2; x < 8; x++) {
    pinMode(x, OUTPUT);
  }
  // set the tilt switch pin as input
  pinMode(switchPin, INPUT);
}

void loop() {
  unsigned long currentTime = millis(); // time since Arduino started running

  if (currentTime - previousTime > interval) {
    previousTime = currentTime;
    // Turn the LED on
    digitalWrite(led, HIGH);
    led++;
    if(led == 7){
      // do something else
    }
  }

  switchState = digitalRead(switchPin);

  // if 'hourglass' reset
  if (switchState != prevSwitchState) {
    for (int x = 2; x < 8; x++) {
      digitalWrite(x, LOW);
    }

    // reset LED var, and timer
    led = 2;
    previousTime = currentTime;
  }
  prevSwitchState = switchState;
}
```