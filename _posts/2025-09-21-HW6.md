---
title: 'Homework 6: Light Theremin'
date: '2025-09-21'
---

![Homework 6 project](/assets/HW6/HW6.jpg)

This project was pretty fun to do, though the end result of it was quite annoying. There wasn't much wiring required so building the circuit went by smoothly. It was also cool to be introduced to using the Piezo and creating sound using the Arduino.

## The Circuit
![Circuit](/assets/HW6/light_theremin_circuit.png)

### Parts List

|Name  |Quantity|Component                              |
|------|--------|---------------------------------------|
|U1    |1       |Arduino Uno R3                         |
|PIEZO1|1       |Piezo                                  |
|R1    |1       |10 kâ„¦ Resistor                         |
|Q1    |1       |Ambient Light Sensor [Phototransistor] |

[Parts List CSV](/assets/HW6/light_theremin_parts_list.csv)

### Schematics
![Schematics](/assets/HW6/light_theremin_schematics.png)
[Schematics pdf](/assets/HW6/light_theremin_schematics.pdf)

## Building the Circuit

Assembling the circuit was simple since there very few components and wires, however, one issue I did run into and couldn't fully solve was that there was a lot of electrical noise affecting the sounds made by the Piezo, which I managed to somehow reduce by twisting the wires and forcing the resistors further into the breadboard, but it still sounded annoying enough to want to immediately dismantle after testing was finished.

{% 
    include embed/video.html 
    src='/assets/HW6/light_theremin.mp4'
    title='Homework 6: Light Theremin demo'
%}

## Programming

After confirming that the circuit was working, I began writing the code for the project. The code was simple and straight forward, but it also introduced me to the ideas of calibrating, which was easy to understand, but not something I had previously considered at all.

```c++
int sensorValue;
int sensorLow = 1023; // low value for calibration
int sensorHigh = 0;	// high value for calibration
// LED pin
const int ledPin = 13;

void setup() {
  // turn on Led pin as output
  pinMode(ledPin, OUTPUT);
  digitalWrite(ledPin, HIGH);

  // calibrate for the first five seconds after program runs
  while (millis() < 5000) {
    // record the maximum sensor value
    sensorValue = analogRead(A0);
    if (sensorValue > sensorHigh) {
      sensorHigh = sensorValue;
    }
    // record the minimum sensor value
    if (sensorValue < sensorLow) {
      sensorLow = sensorValue;
    }
  }
  // turn off LED to signal end of calibration
  digitalWrite(ledPin, LOW);
}

void loop() {
  //read the input from A0
  sensorValue = analogRead(A0);

  // map the sensor values to pitches
  int pitch = map(sensorValue, sensorLow, sensorHigh, 50, 4000);

  // play the tone for 20 ms on pin 8
  tone(8, pitch, 20);

  // wait for a moment
  delay(10);
}
```