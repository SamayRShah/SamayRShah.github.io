---
title: 'Homework 11: Crystal Ball'
date: '2025-10-05'
---

![Homework 11 project](/assets/HW11/HW11.jpg)

This homework was more exciting since we were printing stuff to the screen which I thought was cool

## The Circuit
![Circuit](/assets/HW11/crystal_ball.png)

### Parts List

|Name |Quantity|Component           |
|-----|--------|--------------------|
|U1   |1       |Arduino Uno R3      |
|TILT1|1       |Tilt Sensor         |
|R1   |1       |10 kΩ Resistor      |
|Rpot1|1       |250 kΩ Potentiometer|
|U2   |1       |LCD 16 x 2          |
|R2   |1       |220 Ω Resistor      |

[Parts List CSV](/assets/HW11/crystal_ball_partslist.csv)

### Schematics
![Schematics](/assets/HW11/crystal_ball_schematics.png)
[Schematics pdf](/assets/HW11/crystal_ball_schematics.pdf)

## Building the Circuit

Building the circuit went by quickly and I don't really have much more to say about it. The only thing I did need to think more about, similar to the last homework, was why connect the pins to the LED in the way we did, which was more clear this time, since there were symbols printed onto the LCD that identified what the pins were.

![Crystal ball project demo](/assets/HW11/HW11.gif)

## Programming

After confirming that the circuit was working, I then unloaded the example sketch and began programming the arduino, which this time, the program was way simpler than expected since the LCD library did everything, and I just lifted the same switch state from the example code since I didn't feel like designing custom messages for an '8 ball' that I would be deconstructing soon enough anyways.

```c++
#include <LiquidCrystal.h>

// initialize the library with the numbers of the interface pins
LiquidCrystal lcd(12, 11, 5, 4, 3, 2);

const int switchPin = 6;
int switchState = 0;
int prevSwitchState = 0;
int reply;

void setup() {
  // set up the number of columns and rows on the LCD
  lcd.begin(16, 2);
  pinMode(switchPin, INPUT);

  // Print a message to the LCD.
  lcd.print("Ask the");
  // set the cursor to column 0, line 1
  lcd.setCursor(0, 1);
  lcd.print("Crystal Ball!");
}

void loop() {
  // check the status of the switch
  switchState = digitalRead(switchPin);

  // compare the switchState to its previous state
  if (switchState != prevSwitchState) {
    if (switchState == LOW) {
      // randomly chose a reply
      reply = random(8);
      // clean up the screen before printing a new reply
      lcd.clear();
      // set the cursor to first column and row
      lcd.setCursor(0, 0)
      lcd.print("the ball says:");

      // print to 2nd line
      lcd.setCursor(0, 1);
      switch (reply) {
        case 0:
          lcd.print("Yes");
          break;

        case 1:
          lcd.print("Most likely");
          break;

        case 2:
          lcd.print("Certainly");
          break;

        case 3:
          lcd.print("Outlook good");
          break;

        case 4:
          lcd.print("Unsure");
          break;

        case 5:
          lcd.print("Ask again");
          break;

        case 6:
          lcd.print("Doubtful");
          break;

        case 7:
          lcd.print("No");
          break;
      }
    }
  }
  // update switch states
  prevSwitchState = switchState;
}
```
